<!doctype html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>全景</title>
	<script src="js/three.min.js"></script>
	<script src="js/photo-sphere-viewer.min.js"></script>
	<!--[if IE]>
		<script src="http://www.jq22.com/jquery/html5.min.js"></script>
		<![endif]-->
		<style>
			body {
				margin: 0;
				width: 100vw;
				height: 100vh;
			}
			.btn-box{
				position: fixed;
				bottom: 5%;
				left: 0;
				display: flex;
				width: 100%;
				justify-content: center;
			}
			.btn-box span{
				margin: 2vw;
				width: 15vw;
				height: 10vw;
				line-height: 10vw;
				text-align: center;
				font-size: 2vw;
				background-color: #eee;
				border-radius: 1vw;
			}
		</style>
	</head>
	<body>
		<div id="container"></div>
		<div class="btn-box">
			<span id="btn1" data-index="1">1</span>
			<span id="btn2" data-index="2">2</span>
			<span id="btn3" data-index="3">3</span>
			<span id="btn4" data-index="4">4</span>
		</div>
		<script type="text/javascript">
			window.onload = function() {
				document.getElementById('btn1').addEventListener('click', loadPredefinedPanorama, false);
				document.getElementById('btn2').addEventListener('click', loadPredefinedPanorama, false);
				document.getElementById('btn3').addEventListener('click', loadPredefinedPanorama, false);
				document.getElementById('btn4').addEventListener('click', loadPredefinedPanorama, false);
			};

			// Load the predefined panorama
			function loadPredefinedPanorama(evt) {

				evt.preventDefault();
				console.log(evt.currentTarget.dataset.index)

				let imgSrc = 'images/'+evt.currentTarget.dataset.index+'.jpg'

				var div = document.getElementById('container');

				var PSV = new PhotoSphereViewer({
					// Path to the panorama
					panorama: imgSrc,

					// Container
					container: div,

					// Deactivate the animation
					time_anim: false,

					// Display the navigation bar
					navbar: true,

					// Resize the panorama
					size: {
						width: '100%',
						height: '100%'
					}
				});
			}
		</script>
	</body>
	</html>